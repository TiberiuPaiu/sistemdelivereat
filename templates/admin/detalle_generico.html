{% extends 'base/base_adminlte.html' %}
{% load static %}
{% load custom_filters %}
{% block style %}
 <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'adminlte/css/all.min.css' %}">
    <!--  iconas fas -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
          integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'adminlte/css/adminlte.min.css' %}">


{% endblock %}


{% block content %}


    <div class="content-wrapper">
            <!-- Contenido de la página -->
            <section class="content">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-primary">
                                <div class="card-header" style="background-color: #969FAA; color:white">
                                    <h3 class="card-title">Detalles del {{ tipo_objeto }}</h3>
                                </div>
                                <div class="card-body">
                                    {% if tipo_objeto == 'restaurante' %}


                                        <p>Nombre: {{ object.nombre }}</p>
                                        <p>Dirección: {{ object.ubicacion.full_address }}</p>
                                        <p>Descripción: {{ object.descripcion }}</p>

                                         <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                <div class="carousel-inner">
                                    <!-- Aquí puedes iterar sobre las imágenes del restaurante y mostrarlas en el carrusel -->
                                    {% for obj in object.imagens.all %}
                                        <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                            <img class="d-block w-100" style="max-height: 200px; object-fit: cover;" src="{{ obj.imagen.url }}" >
                                        </div>
                                    {% endfor %}
                                </div>
                                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </div>


                                        <!-- Agrega más detalles específicos del restaurante -->
                                    {% elif tipo_objeto == 'usuario' %}
                                        <p>Nombre de usuario: {{ object.username }}</p>
                                        <p>Correo electrónico: {{ object.email }}</p>
                                         <p>Nombre: {{ object.get_full_name }}</p>
                                        <p> Telfeono: {{ object.full_telefono }}</p>
                                        <p> Rol: {{ oject.user_type }}</p>
                                        
                                        <!-- Agrega más detalles específicos del pedido -->

                                    {% elif tipo_objeto == 'pedido' %}
                                        <p> Codigo Pedido: {{ object.codigo_pedido }}</p>
                                        <p> Estado: {{ object.get_estado_display }}</p>
                                        <p> El codigo de validacion: {{ object.codigo_validacio }}</p>
                                        <p> {{ object.fecha_pedido }}</p>
                                         
                                        <p> Restaurante al que realizo el pedido: {{ object.restaurante.nombre }}</p>
                                        <p> total: {{ object.total }} € </p>
                                        
                                        {% for plato in object.platos.all %}

                            <p>
                                <img class="img-circle img-bordered-sm" src="{{ plato.imagen.url }}" alt="user image" width="20%" height="20%" >

                                {{ plato.nombre }}

                                 {% if plato.descuento > 0 %}
            <del>{{ plato.precio }}</del> -  {{ plato|descuento }}  € Descuento : {{ plato.descuento }}%

            {% else %}
               {{ plato.precio }}  €
            {% endif %}
                                            </p>
                                        {% endfor %}
                                        

                                        <!-- Agrega más detalles específicos del usuario -->
                                    {% endif %}

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
{% endblock %}

{% block script %}


<!-- jQuery -->
<script src="{% static 'adminlte/js/jquery.min.js' %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static 'adminlte/js/bootstrap.bundle.min.js' %}"></script>


<!-- AdminLTE App -->
<script src="{% static 'adminlte/js/adminlte.min.js' %}"></script>

{% endblock %}
